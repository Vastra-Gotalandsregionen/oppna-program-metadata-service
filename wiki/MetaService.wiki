#summary Beskrivning av Metadatatjänsten

= Introduction = 

The metadata service is a collection of web services for managing metadata based on a taxonomy. Currently, three services are available within the metadata service scope; Keyword service, Vocabulary service and Lemmatisation service.

= Keyword service = 

The keyword service suggests keywords to a text based on its content. Input to the service can be ordinary text asa well as pdf and office documents. It's used by publishing systems to aid content creators to tag their information with relevant keywords. Simply put, the keyword extraction process first extract uncontrolled keywords from the text. The extracted keywords are looked up against a taxonomy and only keywords represented in the taxonomy is returned from the service. This enforces a controlled vocabulary for the keyword tagging.

The taxonomy used for lookups can be altered, as well as the functionality of the keyword extraction process. 

== Modules ==

The keyword service consists of four modules which can be configured and turned on/off to alter the behaviour of the keyword extraction process. An overview of the modules is shown in figure 1.

==== Figure 1 ====
http://oppna-program-metadata-service.googlecode.com/svn/wiki/images/overview.jpg

Figure 1 shows how the keyword service receives a text, represented as plain text or in a document, is processed and 
 returns keywords for the text.

=== Format stripper ===

The format stripper strips formatting information from the incoming text. The output from this stage is plain text which is processed by the other modules.

The format stripper supports the following formats:
  * Text
  * HTML
  * PDF
  * Office file format

=== Analysis service === 

The analysis service processes the text and extracts uncontrolled keywords from the text. The analysis service consists of a set of modules that performs different processing on the text. The modules can be configured to alter the keyword extraction process. The deployed configuration at VGR is using a module called KeywordExtractor which is a module that extracts keywords based on sophisticated algorithms.

==== Keyword extractor ====

The keyword extractor is performing a set of tasks to extract keywords from text content. The process consists of the following steps:
  # Sentence and word extractor. The incoming text is split into sentences and words. In this process, the content is also normalised (punctuation, diactrics, etc are removed)
  # Lemmatisation. The words in the text are reduced to their base form by performing lemmatisation. If no base form is found, stemming is performed.
  # Candidate extraction. Keyword candidates are extracted based on different algorithtms. Available algorithms are n-grams, word class patterns, np-chunks. The deployed installation at VGR uses np-chunks, which means that nouns are extracted together with their modifiers like adjectives. I.e in the text *The quick brown fox jumps over the lazy dog*, candidates would be *fox*, *brown fox*, *quick brown fox*, *dog*, *lazy dog*. In this process, stop words are removed.
  # Keyword selection. From the candidates, keywords are selected. The selection is performed using statistical models and probability. In this process, the selection can take advantage of a corpus that's been pre-processed to extract statistics about the content. Using this statistics, the selection process uses tf/idf to determine if a candidate is a keyword. I.e if a candidate is common in the incoming text, but rare in the complete corpus it is a good candidate for a keyword.

= Introduction =

Metadatatjänsten är en samling av tjänster som hanterar metadata baserade på en taxonomi. Id dagsläget tillhandahåller Metadatatjänsten två tjänster: Nyckelordstjänsten och Vokabulärtjänsten.

Nyckelordstjänsten används för att föreslå nyckelord till medicinska artiklar. Publiceringssystem kan anropa tjänsten för att få nyckelordsförslag till artiklar baserat på deras innehåll. Nyckelorden kommer från en medicinsk taxonomi (MeSH), samt en svensk version av denna med namn SweMeSH.

Vokabulärtjänsten används för att hämta information om noder i en existerande namnrymd. Den är främst tänkt att användas för taxonomier som är skapade av VGR själva.

= Nyckelordstjänst =

Nyckelordstjänsten (Keyword Service) är uppbyggd av fyra moduler, vilka kan ses i figur 1. En artikel som skickas till tjänsten behandlas först av Format Stripper som tar bort formateringsinformation från artikeln. Stödda format är text och html. 

==== Figure 1 ====
http://oppna-program-metadata-service.googlecode.com/svn/wiki/images/overview.jpg

Den rena texten skickas sedan vidare i en kedja; Analsyis Service extraherar representativa ord från texten med hjälp av ett antal inre moduler. Analysis Service beskrivs i detalj i avsnittet Analysis Service. De extraherade orden används som indata till Taxonomy Service som gör en sökning i den medicinska taxonomin för varje ord. Resultatet blir en lista av medicinska termer som är kopplade till den inmatade texten. User Profile Service jämför de funna medicinska termerna mot användarens tidigare aktivitet. Om en medicinsk term använts som bokmärke, märks termen som “bokmärkt”. Om användaren tidigare har använt termen för att beskriva en artikel märks termen som “taggad”. Slutresultatet, en lista med märkta medicinska termer skickas tillbaka till användargränssnittet.


== Analysis Service ==

==== Figure 2 ====
http://oppna-program-metadata-service.googlecode.com/svn/wiki/images/modules.jpg

=== Normalize ===

Normaliserar texten genom att ta bort accenter, apostrofer, punkter, kommatecken osv.

=== Remove stop words ===

Tar bort stoppord, dvs små ord som inte betyder någonting. Denna modul baseras på en lista. Alla ord som finns med i listan tas bort från texten. Kan konfigureras för engelska och svenska stoppord.

=== Stemming ===

Reducerar orden i texten till dess grundform. Stöd för stemming av engelska och svenska ord finns.

=== Remove short words ===

Korta ord är sällan beskrivande. Detta steg tar bort korta ord som inte är definierade som stoppord. Gränsen för längden på ett kort ord kan ställas in.

=== Count word frequency ===

Räknar vikten på varje ordstam i texten. Vikten baseras på antalet förekomster av ordstammen i texten och antalet dokument som innehåller denna ordstam, d.sk. tfidf (term frequency, inverse document frequency). Vikten ligger som grund till vilka ord som ska returneras.

=== Remove blacklisted words ===

När indata ord resulterar i noll träffar i den medicinska taxonomin, sparar Taxonomy Service detta ord som “blacklisted”. Detta steg hämtar de svartlistade orden och tar bort dem från texten.

=== Remove low frequency words ===

Ord som förekommer få gånger i texten tas bort. Gränsen för antalet förekomster kan ställas in.

=== Sort words by frequency ===

Orden sorteras i fallande ordning baserat på dess frekvens i dokumentet.


= Vokabulärtjänst =

Vokabulärtjänsten (Vocabulary Service) används för att hämta information om en namnrymd lagrad i den underliggande taxonominhanteraren. Tjänsten tar in en sökväg till en nod i taxonomin och returnerar alla direkt underliggande noder. Användningsområdet är att t.ex kunna lista alla dokumenttyper i VGR:s vokabulär. Varje dokumenttyp är då en egen nod med den gemensamma föräldranoden ”Dokumenttyper”.